<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Text Viewer</title>
    <style>
      body {
        background-color: #445566;
        color: #ffffff;
        font-family: "Consolas", "Courier New", monospace;
        padding: 20px;
      }
      h2 {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        border-bottom: 2px solid #88cc88;
        margin-bottom: 20px;
      }
      pre {
        background-color: #333f4f;
        color: #cceecc;
        padding: 15px;
        border-radius: 8px;
        white-space: pre-wrap;
        word-wrap: break-word;
      }
    </style>
  </head>
  <body>
    <h2 id="file-title">Text File Viewer</h2>
    <pre id="text-content">Loading...</pre>

    <script>
      const params = new URLSearchParams(window.location.search);
      const file = params.get("file");

      const titleEl = document.getElementById("file-title");
      const contentEl = document.getElementById("text-content");

      if (file) {
        const displayName = decodeURIComponent(
          file
            .split("/")
            .pop()
            .replace(".txt", "")
            .replace(/([A-Z])/g, " $1")
            .trim()
        );
        titleEl.textContent = displayName;

        fetch(file)
          .then((response) => {
            if (!response.ok) throw new Error("File not found");
            return response.text();
          })
          .then((text) => {
            contentEl.textContent = text;
          })
          .catch((err) => {
            contentEl.textContent = "Error loading file.";
          });
      } else {
        titleEl.textContent = "No File Specified";
        contentEl.textContent = "Please provide a file name in the URL.";
      }
    </script>
  </body>
</html>
